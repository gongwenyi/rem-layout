<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>移动端案例-shop页面</title>
  <link rel="stylesheet" type="text/css" href="css/mobilereset.css">
  <link rel="stylesheet" href="css/shop.css">
  <link href="http://cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
  <header class="header main-header">
    <h1>Shop</h1>
    <a class="return" href="javascript:;" onClick="javascript:history.back(-1);"><i class="fa fa-angle-left"></i></a>
    <a class="open-modul" href="javascript:;"><i class="fa fa-navicon"></i></a>
  </header>
  <div class="modul">
    <div class="header modul-header">
      <h1>Menu</h1>
      <a class="close-modul" href="javascript:;"><i class="fa fa-close"></i></a>
    </div>
    <ul class="modul-list">
      <li>
        <a href="javascript:;"><i class="fa fa-user"></i>Profile</a>
      </li>
      <li>
        <a href="javascript:;"><i class="fa fa-envelope-o"></i>Inbox</a>
      </li>
      <li class="current">
        <a href="javascript:;"><i class="fa fa-map-marker"></i>Location</a>
      </li>
      <li>
        <a href="javascript:;"><i class="fa fa-question"></i>FAQs</a>
      </li>
      <li>
        <a href="javascript:;"><i class="fa fa-gear"></i>Settings</a>
      </li>
      <li>
        <a href="javascript:;"><i class="fa fa-share"></i>Sign Out</a>
      </li>
    </ul>
  </div>
  <div class="title">
    <h2>Food Items</h2>
    <h3>SUMMER SALE:<span>Get 50% Discount</span></h3>
  </div>
  <ul class="shop-list">
    <li>
      <div class="shop-img">
        <img src="imgs/shop01.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Picnic cupcakes</a>
      <p>Price:<span>$5</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop02.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Grilled Barbecue</a>
      <p>Price:<span>$25</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop03.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Healthy Pasta</a>
      <p>Price:<span>$5</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop04.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Morning Breakfast</a>
      <p>Price:<span>$25</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop01.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Picnic cupcakes</a>
      <p>Price:<span>$5</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop02.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Grilled Barbecue</a>
      <p>Price:<span>$25</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop03.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Healthy Pasta</a>
      <p>Price:<span>$5</span></p>
    </li>
    <li>
      <div class="shop-img">
        <img src="imgs/shop04.jpg">
        <div class="add-cart-bg">
          <a class="add-cart" href="javascript:;">Add to Cart +</a>
        </div>
        <a class="heart-o" href="javascript:;"><i class="fa fa-heart-o"></i></a>
        <a class="heart" href="javascript:;"><i class="fa fa-heart"></i></a>
      </div>
      <a class="ellipsis" href="product.html">Morning Breakfast</a>
      <p>Price:<span>$25</span></p>
    </li>
  </ul>
  <script>
    (function (doc, win) {
      var docEl = doc.documentElement,
        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
        recalc = function () {
          var clientWidth = docEl.clientWidth;
          if (!clientWidth) return;
          var dpr = window.devicePixelRatio; //设备像素比
          //此处的100为页面html设置的字体大小值（为方便计算一般用100px）
          //此处的320为视觉稿宽度的一半
          //根据设备可视区的宽度以及设备像素比动态改变fontSize值
          // docEl.style.fontSize = (dpr / 2) * 100 * (clientWidth  / 320) + 'px';
          docEl.style.fontSize = 100 * (clientWidth  / 320) + 'px';
        };
      if (!doc.addEventListener) return;
      win.addEventListener(resizeEvt, recalc, false);
      doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);
  </script>
  <script src="http://cdn.bootcss.com/zepto/1.1.6/zepto.min.js"></script>
  <script src="js/toucher.js"></script>
  <script>
    $(function(){
      var openModul = $('.open-modul')[0],
          closeModul = $('.close-modul')[0],
          $modul = $('.modul'),
          $lis = $('.modul-list li'),
          $as = $('.modul-list li a');

      util.toucher(openModul).on('singleTap', function(){
        $modul.show();
      });
      util.toucher(closeModul).on('singleTap', function(){
        $modul.hide();
      });

      $as.each(function(index){
        var $parent = $(this).parent();
        util.toucher($(this)[0]).on('singleTap', function(){
          $lis.removeClass('current');
          $parent.addClass('current');
        })
      });

      //清除在弹出层上滑动时下面的body发生滚动
      util.toucher($modul[0]).on('swipe', function(){
        return false;
      });

    });
  </script>
  <script>
    $(function(){
      var $heart_o = $('.heart-o'),
          $heart = $('.heart'),
          $shop_img = $('.shop-img img'),
          $add_cart_bg = $('.add-cart-bg'),
          $add_cart = $('.add-cart');

      //喜欢和取消喜欢
      $heart_o.each(function(index){
        $(this).data('index', index);
        util.toucher($(this)[0]).on('singleTap', function(){
          var index = $(this).data('index');
          $heart.eq(index).show();
        });
      });
      $heart.each(function(){
        util.toucher($(this)[0]).on('singleTap', function(){
          $(this).hide();
        });
      });

      //显示和隐藏加入购物车按钮
      $shop_img.each(function(index){
        $(this).data('index', index);
        util.toucher($(this)[0]).on('singleTap', function(){
          var index = $(this).data('index');
          $add_cart_bg.eq(index).show();
        });
      });
      $add_cart_bg.each(function(){
        util.toucher($(this)[0]).on('singleTap', function(){
          $(this).hide();
        });
      });

      //加入购物车
      $add_cart.each(function(e){
        util.toucher($(this)[0]).on('singleTap', function(e){
          $(this).css('background-color','#ef135b');
          //e.stopPropagation();
          return false;
        });
      });


    });
  </script>
</body>
</html>